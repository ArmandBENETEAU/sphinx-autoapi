

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>AntiForgery Class &mdash; dotnetexample 0.1 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../../../_static/autoapi.css" type="text/css" />
  

  
    <link rel="top" title="dotnetexample 0.1 documentation" href="../../../../../index.html"/> 

  
  <script src="../../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../../../../../index.html" class="icon icon-home"> dotnetexample
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../index.html">Sphinx AutoAPI Index</a></li>
</ul>
<ul class="simple">
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../../../index.html">dotnetexample</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../../index.html">Docs</a> &raquo;</li>
      
    <li>AntiForgery Class</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../../_sources/autoapi/Microsoft/AspNet/Mvc/AntiForgery/index.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="antiforgery-class">
<h1>AntiForgery Class<a class="headerlink" href="#antiforgery-class" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="contents">
<ul class="simple">
<li><a class="reference internal" href="#summary" id="id1">Summary</a></li>
<li><a class="reference internal" href="#inheritance-hierarchy" id="id2">Inheritance Hierarchy</a></li>
<li><a class="reference internal" href="#syntax" id="id3">Syntax</a></li>
<li><a class="reference internal" href="#github" id="id4">GitHub</a></li>
<li><a class="reference internal" href="#constructors" id="id5">Constructors</a></li>
<li><a class="reference internal" href="#methods" id="id6">Methods</a></li>
</ul>
</div>
<div class="section" id="summary">
<h2><a class="toc-backref" href="#id1">Summary</a><a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>Provides access to the anti-forgery system, which provides protection against
Cross-site Request Forgery (XSRF, also called CSRF) attacks.</p>
</div>
<div class="section" id="inheritance-hierarchy">
<h2><a class="toc-backref" href="#id2">Inheritance Hierarchy</a><a class="headerlink" href="#inheritance-hierarchy" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><code class="xref dn dn-cls docutils literal"><span class="pre">System.Object</span></code></li>
<li><a class="reference internal" href="#Microsoft.AspNet.Mvc.AntiForgery" title="Microsoft.AspNet.Mvc.AntiForgery"><code class="xref dn dn-cls docutils literal"><span class="pre">Microsoft.AspNet.Mvc.AntiForgery</span></code></a></li>
</ul>
</div>
<div class="section" id="syntax">
<h2><a class="toc-backref" href="#id3">Syntax</a><a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<div class="highlight-csharp"><div class="highlight"><pre><span class="k">public</span> <span class="k">sealed</span> <span class="k">class</span> <span class="nc">AntiForgery</span>
</pre></div>
</div>
</div>
<div class="section" id="github">
<h2><a class="toc-backref" href="#id4">GitHub</a><a class="headerlink" href="#github" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://github.com/aspnet/mvc/blob/master/src/Microsoft.AspNet.Mvc.Extensions/AntiForgery/AntiForgery.cs">View on GitHub</a></p>
<dl class="class">
<dt id="Microsoft.AspNet.Mvc.AntiForgery">
<em class="property">class </em><code class="descclassname">Microsoft.AspNet.Mvc.</code><code class="descname">AntiForgery</code><a class="headerlink" href="#Microsoft.AspNet.Mvc.AntiForgery" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="constructors">
<h2><a class="toc-backref" href="#id5">Constructors</a><a class="headerlink" href="#constructors" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dd><dl class="constructor">
<dt id="Microsoft.AspNet.Mvc.AntiForgery.AntiForgery">
<code class="descname">AntiForgery</code><span class="sig-paren">(</span><em>Microsoft.AspNet.Mvc.IClaimUidExtractor</em>, <em>IDataProtectionProvider</em>, <em>Microsoft.AspNet.Mvc.IAntiForgeryAdditionalDataProvider</em>, <em>IOptions&lt;Microsoft.AspNet.Mvc.AntiForgeryOptions&gt;</em>, <em>IHtmlEncoder</em>, <em>IOptions&lt;DataProtectionOptions&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#Microsoft.AspNet.Mvc.AntiForgery.AntiForgery" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first last simple">
<li><strong>claimUidExtractor</strong> (<a class="reference internal" href="../IClaimUidExtractor/index.html#Microsoft.AspNet.Mvc.IClaimUidExtractor" title="Microsoft.AspNet.Mvc.IClaimUidExtractor"><em>Microsoft.AspNet.Mvc.IClaimUidExtractor</em></a>) &#8211; </li>
<li><strong>dataProtectionProvider</strong> (<em>IDataProtectionProvider</em>) &#8211; </li>
<li><strong>additionalDataProvider</strong> (<a class="reference internal" href="../IAntiForgeryAdditionalDataProvider/index.html#Microsoft.AspNet.Mvc.IAntiForgeryAdditionalDataProvider" title="Microsoft.AspNet.Mvc.IAntiForgeryAdditionalDataProvider"><em>Microsoft.AspNet.Mvc.IAntiForgeryAdditionalDataProvider</em></a>) &#8211; </li>
<li><strong>antiforgeryOptions</strong> (<em>IOptions{Microsoft.AspNet.Mvc.AntiForgeryOptions}</em>) &#8211; </li>
<li><strong>htmlEncoder</strong> (<em>IHtmlEncoder</em>) &#8211; </li>
<li><strong>dataProtectionOptions</strong> (<em>IOptions{DataProtectionOptions}</em>) &#8211; </li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-csharp"><div class="highlight"><pre><span class="k">public</span> <span class="nf">AntiForgery</span><span class="p">(</span><span class="n">IClaimUidExtractor</span> <span class="n">claimUidExtractor</span><span class="p">,</span> <span class="n">IDataProtectionProvider</span> <span class="n">dataProtectionProvider</span><span class="p">,</span> <span class="n">IAntiForgeryAdditionalDataProvider</span> <span class="n">additionalDataProvider</span><span class="p">,</span> <span class="n">IOptions</span><span class="p">&lt;</span><span class="n">AntiForgeryOptions</span><span class="p">&gt;</span> <span class="n">antiforgeryOptions</span><span class="p">,</span> <span class="n">IHtmlEncoder</span> <span class="n">htmlEncoder</span><span class="p">,</span> <span class="n">IOptions</span><span class="p">&lt;</span><span class="n">DataProtectionOptions</span><span class="p">&gt;</span> <span class="n">dataProtectionOptions</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="methods">
<h2><a class="toc-backref" href="#id6">Methods</a><a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dd><dl class="method">
<dt id="Microsoft.AspNet.Mvc.AntiForgery.GetHtml">
<code class="descname">GetHtml</code><span class="sig-paren">(</span><em>HttpContext</em><span class="sig-paren">)</span><a class="headerlink" href="#Microsoft.AspNet.Mvc.AntiForgery.GetHtml" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates an anti-forgery token for this request. This token can
be validated by calling the Validate() method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first simple">
<li><strong>context</strong> (<em>HttpContext</em>) &#8211; The HTTP context associated with the current call.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">Microsoft.AspNet.Mvc.Rendering.TagBuilder</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">An HTML string corresponding to an &amp;lt;input type=&#8221;hidden&#8221;&amp;gt; element. This element should be put inside a &amp;lt;form&amp;gt;.</p>
</td>
</tr>
</tbody>
</table>
<div class="highlight-csharp"><div class="highlight"><pre><span class="k">public</span> <span class="n">TagBuilder</span> <span class="nf">GetHtml</span><span class="p">(</span><span class="n">HttpContext</span> <span class="n">context</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="Microsoft.AspNet.Mvc.AntiForgery.GetTokens">
<code class="descname">GetTokens</code><span class="sig-paren">(</span><em>HttpContext</em>, <em>System.String</em><span class="sig-paren">)</span><a class="headerlink" href="#Microsoft.AspNet.Mvc.AntiForgery.GetTokens" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates an anti-forgery token pair (cookie and form token) for this request.
This method is similar to GetHtml(HttpContext context), but this method gives the caller control
over how to persist the returned values. To validate these tokens, call the
appropriate overload of Validate.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first simple">
<li><strong>context</strong> (<em>HttpContext</em>) &#8211; The HTTP context associated with the current call.</li>
<li><strong>oldCookieToken</strong> (<em>System.String</em>) &#8211; The anti-forgery token - if any - that already existed for this request. May be null. The anti-forgery system will try to reuse this cookie value when generating a matching form token.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Microsoft.AspNet.Mvc.AntiForgeryTokenSet</p>
</td>
</tr>
</tbody>
</table>
<div class="highlight-csharp"><div class="highlight"><pre><span class="k">public</span> <span class="n">AntiForgeryTokenSet</span> <span class="nf">GetTokens</span><span class="p">(</span><span class="n">HttpContext</span> <span class="n">context</span><span class="p">,</span> <span class="kt">string</span> <span class="n">oldCookieToken</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="Microsoft.AspNet.Mvc.AntiForgery.SetCookieTokenAndHeader">
<code class="descname">SetCookieTokenAndHeader</code><span class="sig-paren">(</span><em>HttpContext</em><span class="sig-paren">)</span><a class="headerlink" href="#Microsoft.AspNet.Mvc.AntiForgery.SetCookieTokenAndHeader" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates and sets an anti-forgery cookie if one is not available or not valid. Also sets response headers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first last simple">
<li><strong>context</strong> (<em>HttpContext</em>) &#8211; The HTTP context associated with the current call.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-csharp"><div class="highlight"><pre><span class="k">public</span> <span class="k">void</span> <span class="nf">SetCookieTokenAndHeader</span><span class="p">(</span><span class="n">HttpContext</span> <span class="n">context</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="Microsoft.AspNet.Mvc.AntiForgery.Validate">
<code class="descname">Validate</code><span class="sig-paren">(</span><em>HttpContext</em>, <em>Microsoft.AspNet.Mvc.AntiForgeryTokenSet</em><span class="sig-paren">)</span><a class="headerlink" href="#Microsoft.AspNet.Mvc.AntiForgery.Validate" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates an anti-forgery token pair that was generated by the GetTokens method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first last simple">
<li><strong>context</strong> (<em>HttpContext</em>) &#8211; The HTTP context associated with the current call.</li>
<li><strong>antiForgeryTokenSet</strong> (<a class="reference internal" href="../AntiForgeryTokenSet/index.html#Microsoft.AspNet.Mvc.AntiForgeryTokenSet" title="Microsoft.AspNet.Mvc.AntiForgeryTokenSet"><em>Microsoft.AspNet.Mvc.AntiForgeryTokenSet</em></a>) &#8211; The anti-forgery token pair (cookie and form token) for this request.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-csharp"><div class="highlight"><pre><span class="k">public</span> <span class="k">void</span> <span class="nf">Validate</span><span class="p">(</span><span class="n">HttpContext</span> <span class="n">context</span><span class="p">,</span> <span class="n">AntiForgeryTokenSet</span> <span class="n">antiForgeryTokenSet</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">Validate</code><span class="sig-paren">(</span><em>HttpContext</em>, <em>System.String</em>, <em>System.String</em><span class="sig-paren">)</span></dt>
<dd><p>Validates an anti-forgery token pair that was generated by the GetTokens method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first last simple">
<li><strong>context</strong> (<em>HttpContext</em>) &#8211; The HTTP context associated with the current call.</li>
<li><strong>cookieToken</strong> (<em>System.String</em>) &#8211; The token that was supplied in the request cookie.</li>
<li><strong>formToken</strong> (<em>System.String</em>) &#8211; The token that was supplied in the request form body.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="highlight-csharp"><div class="highlight"><pre><span class="k">public</span> <span class="k">void</span> <span class="nf">Validate</span><span class="p">(</span><span class="n">HttpContext</span> <span class="n">context</span><span class="p">,</span> <span class="kt">string</span> <span class="n">cookieToken</span><span class="p">,</span> <span class="kt">string</span> <span class="n">formToken</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="Microsoft.AspNet.Mvc.AntiForgery.ValidateAsync">
<code class="descname">ValidateAsync</code><span class="sig-paren">(</span><em>HttpContext</em><span class="sig-paren">)</span><a class="headerlink" href="#Microsoft.AspNet.Mvc.AntiForgery.ValidateAsync" title="Permalink to this definition">¶</a></dt>
<dd><p>Validates an anti-forgery token that was supplied for this request.
The anti-forgery token may be generated by calling GetHtml(HttpContext context).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Arguments:</th><td class="field-body"><ul class="first simple">
<li><strong>context</strong> (<em>HttpContext</em>) &#8211; The HTTP context associated with the current call.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">System.Threading.Tasks.Task</p>
</td>
</tr>
</tbody>
</table>
<div class="highlight-csharp"><div class="highlight"><pre><span class="k">public</span> <span class="n">Task</span> <span class="nf">ValidateAsync</span><span class="p">(</span><span class="n">HttpContext</span> <span class="n">context</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, rtfd.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../../',
            VERSION:'0.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>